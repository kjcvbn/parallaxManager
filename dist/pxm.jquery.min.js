!function(l,u){var n;n=0,l.requestAnimationFrame||(l.requestAnimationFrame=function(t,e){var i=(new Date).getTime(),o=Math.max(0,16-(i-n)),a=l.setTimeout(function(){t(i+o)},o);return n=i+o,a}),l.cancelAnimationFrame||(l.cancelAnimationFrame=function(t){clearTimeout(t)});var t=function(t){this.scrollTop=1,this.scrollNum=1,this.beforeScrollTop=-1,this.options=null!=t?t:{},this.delay=this.options.delay||.05,this.autoStart="boolean"!=typeof this.options.autoStart||this.options.autoStart,this.$container=u("body"),this.$html=u("html"),this.items,this.play=!1,this.requestAnimation=0,this.beforeTime=new Date,this.dataCache()&&(this.bindEvent(),this.autoStart&&this.start())};u.extend(t.prototype,{constructor:t,getScrollTop:function(t){return t&&(this.scrollNum+=Math.floor((this.scrollTop-this.scrollNum)*this.delay)),this.scrollNum},dataCache:function(){if(this.items=u("[data-pxm]"),0==this.items.length)return!1;return this.items.each(function(){var t=u(this).data("pxm").split("/"),e=u(this).parents(".pxm");u(this).data({pxm:t,top:e[0]?e:u(this).offset().top,isHalf:!!u(this).attr("data-pxm-half")})}),!0},bindEvent:function(){u(l)},start:function(){var e=this;e.play=!0;u("[data-pxm]");var i=u(l);!function t(){1,e.scrollTop=i.scrollTop(),e.getScrollTop(!0),e.animate(),e.requestAnimation=requestAnimationFrame(t)}()},stop:function(){this.play=!1,cancelAnimationFrame(this.requestAnimation)},animate:function(){var t=this,e=this.getScrollTop();e!==this.beforeScrollTop&&(this.beforeScrollTop=e,this.items.each(function(){t.setFrame(u(this))}))},setFrame:function(t){t.css(this.getStyle(t))},getValue:function(t,e,i){var o=e.split("~"),a=l.innerHeight,n=Number(o[0]),s=Number(o[1]),r=a*(t.data("isHalf")?1:2),m=r+(i+r>document.body.offsetHeight?-1*Math.max(i+r-document.body.offsetHeight,0):Math.min(i-a,0));return(s-n)*Math.abs(Math.max(Math.min(Math.max(i-a,0)-this.getScrollTop(),0),-m)/m)+n},getStyle:function(t){var e=this;for(var i,o,a,n,s,r=t.data("pxm"),m={},l=0;l<r.length;l++){var h=r[l].split(":"),c=t.data("top");m[h[0]]=this.getValue(t,h[1],"object"==typeof c?c.offset().top:c)}return i=m,o={},a="",n=e.isCss("transitionDuration"),s=e.isCss("transform"),void 0===i.x&&void 0===i.y&&void 0===i.z||(n?a="translate3d("+(i.x||0)+"px, "+(i.y||0)+"px, "+(i.z||0)+"px)":s?a="translate("+(i.x||0)+"px, "+(i.y||0)+"px)":(void 0!==i.x&&(o["margin-left"]=i.x),void 0!==i.y&&(o["margin-top"]=i.y))),void 0!==i.r&&(a+=" rotate("+i.r+"deg)"),void 0!==i.s&&(a+=" scale("+i.s+","+i.s+")"),void 0!==i.o&&(o.opacity=i.o),delete i.x,delete i.y,delete i.z,delete i.r,delete i.s,delete i.o,i=u.extend({"-webkit-transform":a,"-moz-transform":a,"-ms-transform":a,"-o-transform":a,transform:a},u.extend(i,o))},isCss:function(t){for(var e=["-o-","-ms-","-moz-","-webkit-",""],i=document.createElement("DIV"),o=e.length,a=!1;o--&&!(a=void 0!==i.style[e[o]+t]););return a}}),"function"==typeof mvm&&mvm.core&&mvm("module.pxm",function(){return t}),l.pxm=new t}(window,jQuery);